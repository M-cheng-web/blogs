import{_ as e,c as o,a,b as n,d as t,e as l,o as c,r}from"./app.acb47174.js";const _=JSON.parse('{"title":"\u57FA\u7840Demo","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u4E09\u89D2\u5F62 (\u586B\u5145\u4E09\u89D2\u5F62,\u63CF\u8FB9\u4E09\u89D2\u5F62,\u62FC\u63A5\u4E00\u8D77\u7684\u6B63\u65B9\u5F62)","slug":"\u4E09\u89D2\u5F62-\u586B\u5145\u4E09\u89D2\u5F62-\u63CF\u8FB9\u4E09\u89D2\u5F62-\u62FC\u63A5\u4E00\u8D77\u7684\u6B63\u65B9\u5F62","link":"#\u4E09\u89D2\u5F62-\u586B\u5145\u4E09\u89D2\u5F62-\u63CF\u8FB9\u4E09\u89D2\u5F62-\u62FC\u63A5\u4E00\u8D77\u7684\u6B63\u65B9\u5F62","children":[]},{"level":2,"title":"\u7B11\u8138","slug":"\u7B11\u8138","link":"#\u7B11\u8138","children":[]},{"level":2,"title":"\u591A\u4E2A\u5C0F\u578B\u5706\u5F62\u586B\u5145\uFF0C\u4E14\u989C\u8272\u6E10\u53D8","slug":"\u591A\u4E2A\u5C0F\u578B\u5706\u5F62\u586B\u5145-\u4E14\u989C\u8272\u6E10\u53D8","link":"#\u591A\u4E2A\u5C0F\u578B\u5706\u5F62\u586B\u5145-\u4E14\u989C\u8272\u6E10\u53D8","children":[]},{"level":2,"title":"\u592A\u9633\u7CFB\u5730\u7403\u6708\u4EAE\u4EE5\u53CA\u5176\u4ED6\u884C\u661F(\u52A8\u753B)","slug":"\u592A\u9633\u7CFB\u5730\u7403\u6708\u4EAE\u4EE5\u53CA\u5176\u4ED6\u884C\u661F-\u52A8\u753B","link":"#\u592A\u9633\u7CFB\u5730\u7403\u6708\u4EAE\u4EE5\u53CA\u5176\u4ED6\u884C\u661F-\u52A8\u753B","children":[]},{"level":2,"title":"\u533A\u57DF\u5185\u7684\u7403\u7684\u8FD0\u52A8(\u53D8\u8272+\u53CD\u5F39+\u62D6\u5F71+\u91CD\u529B)","slug":"\u533A\u57DF\u5185\u7684\u7403\u7684\u8FD0\u52A8-\u53D8\u8272-\u53CD\u5F39-\u62D6\u5F71-\u91CD\u529B","link":"#\u533A\u57DF\u5185\u7684\u7403\u7684\u8FD0\u52A8-\u53D8\u8272-\u53CD\u5F39-\u62D6\u5F71-\u91CD\u529B","children":[]},{"level":2,"title":"\u7409\u7483\u706F","slug":"\u7409\u7483\u706F","link":"#\u7409\u7483\u706F","children":[]},{"level":2,"title":"\u989C\u8272\u52A8\u6001\u6E10\u53D8","slug":"\u989C\u8272\u52A8\u6001\u6E10\u53D8","link":"#\u989C\u8272\u52A8\u6001\u6E10\u53D8","children":[]}],"relativePath":"graph/canvas/demo.md","lastUpdated":1671160240000}'),p={name:"graph/canvas/demo.md"},i=n("h1",{id:"\u57FA\u7840demo",tabindex:"-1"},[t("\u57FA\u7840Demo "),n("a",{class:"header-anchor",href:"#\u57FA\u7840demo","aria-hidden":"true"},"#")],-1),y=n("h2",{id:"\u4E09\u89D2\u5F62-\u586B\u5145\u4E09\u89D2\u5F62-\u63CF\u8FB9\u4E09\u89D2\u5F62-\u62FC\u63A5\u4E00\u8D77\u7684\u6B63\u65B9\u5F62",tabindex:"-1"},[t("\u4E09\u89D2\u5F62 (\u586B\u5145\u4E09\u89D2\u5F62,\u63CF\u8FB9\u4E09\u89D2\u5F62,\u62FC\u63A5\u4E00\u8D77\u7684\u6B63\u65B9\u5F62) "),n("a",{class:"header-anchor",href:"#\u4E09\u89D2\u5F62-\u586B\u5145\u4E09\u89D2\u5F62-\u63CF\u8FB9\u4E09\u89D2\u5F62-\u62FC\u63A5\u4E00\u8D77\u7684\u6B63\u65B9\u5F62","aria-hidden":"true"},"#")],-1),d=n("h2",{id:"\u7B11\u8138",tabindex:"-1"},[t("\u7B11\u8138 "),n("a",{class:"header-anchor",href:"#\u7B11\u8138","aria-hidden":"true"},"#")],-1),D=n("h2",{id:"\u591A\u4E2A\u5C0F\u578B\u5706\u5F62\u586B\u5145-\u4E14\u989C\u8272\u6E10\u53D8",tabindex:"-1"},[t("\u591A\u4E2A\u5C0F\u578B\u5706\u5F62\u586B\u5145\uFF0C\u4E14\u989C\u8272\u6E10\u53D8 "),n("a",{class:"header-anchor",href:"#\u591A\u4E2A\u5C0F\u578B\u5706\u5F62\u586B\u5145-\u4E14\u989C\u8272\u6E10\u53D8","aria-hidden":"true"},"#")],-1),h=n("h2",{id:"\u592A\u9633\u7CFB\u5730\u7403\u6708\u4EAE\u4EE5\u53CA\u5176\u4ED6\u884C\u661F-\u52A8\u753B",tabindex:"-1"},[t("\u592A\u9633\u7CFB\u5730\u7403\u6708\u4EAE\u4EE5\u53CA\u5176\u4ED6\u884C\u661F(\u52A8\u753B) "),n("a",{class:"header-anchor",href:"#\u592A\u9633\u7CFB\u5730\u7403\u6708\u4EAE\u4EE5\u53CA\u5176\u4ED6\u884C\u661F-\u52A8\u753B","aria-hidden":"true"},"#")],-1),x=l('<ol><li>\u5982\u4F55\u628A\u592A\u9633\u7CFB\u56FE\u7247\u5F53\u505A\u80CC\u666F\u7684</li></ol><blockquote><p>ctx.globalCompositeOperation \u5C5E\u6027\u53EF\u4EE5\u89C4\u5B9A\u4E0A\u4E0B\u5C42\u7EA7\uFF0C\u8FD8\u53EF\u4EE5\u89C4\u5B9A\u663E\u5F71\u7B49\u7B49</p></blockquote><ol start="2"><li>\u5730\u7403\u662F\u5982\u4F55\u7ED5\u7740\u4E2D\u5FC3\u8D70\u7684</li></ol><blockquote><p>\u5148\u65CB\u8F6C + \u540E\u5E73\u79FB \u8FD9\u91CC\u6709\u4E24\u4E2A\u6CE8\u610F\u70B9\uFF1A 1.\u65CB\u8F6C1\u5EA6\u662F\u8FD9\u6837\u5199\u7684 rotate(1*Math.PI/180),\u4ED4\u7EC6\u601D\u8003\u4E0B\u5C31\u77E5\u9053\u4E3A\u4EC0\u4E48\u5566 2.\u5148\u65CB\u8F6C\u662F\u81EA\u8F6C\u591A\u5C11\u89D2\u5EA6\uFF0C\u7136\u540E\u5E73\u79FB\uFF0C\u8FD9\u4E2A\u6C34\u5E73\u5E73\u79FB\u4E0D\u662F\u6C34\u5E73\u5E73\u79FB\uFF0C\u800C\u662F\u4EE5\u539F\u5148\u70B9\u4E3A\u77E9\u5F62\u7684\u5DE6\u4E0A\u89D2\u7ED8\u5236\u4E00\u4E2A\u76F4\u7EBF\u6765\u8FDB\u884C\u5E73\u79FB\uFF0C\u540C\u7406\u5782\u76F4\u5E73\u79FB\u4E5F\u4E0D\u662F\u771F\u6B63\u7684\u5782\u76F4\uFF0C\u90FD\u662F\u6309\u7167\u90A3\u4E2A\u77E9\u5F62\u6765\u8FDB\u884C\u5E73\u79FB</p></blockquote><ol start="3"><li>\u6708\u4EAE\u662F\u5982\u4F55\u7ED5\u7740\u5730\u7403\u8D70\u7684</li></ol><blockquote><p>\u56E0\u4E3A\u6708\u4EAE\u7684\u7ED8\u5236\u662F\u5728\u5730\u7403\u540E\u7684\uFF0C\u800C\u7ED8\u5236\u5730\u7403\u65F6\u7684\u65CB\u8F6C\u4EE5\u53CA\u4F4D\u79FB\u6211\u4EEC\u8FD8\u6CA1\u6709\u4FDD\u5B58\u91CA\u653E\u5B83\uFF0C\u6240\u4EE5\u7ED8\u5236\u6708\u4EAE\u53EF\u4EE5\u63A5\u7740\u7528\u5B83\uFF0C\u5728\u6B64\u57FA\u7840\u4E0A\u6211\u4EEC\u518D\u52A0\u4E0A\u6708\u4EAE\u7684\u81EA\u8F6C\u548C\u4F4D\u79FB\uFF0C\u5C31\u80FD\u8FBE\u5230\u6B64\u6548\u679C</p></blockquote><ol start="4"><li>\u5730\u7403\u548C\u6D77\u738B\u661F\u662F\u5982\u4F55\u4E00\u4E2A\u5728\u5185\u5708\u4E00\u4E2A\u5728\u5916\u5708\u7684</li></ol><blockquote><p>\u65CB\u8F6C\u73A9\u5E73\u79FB\u7684\u65F6\u5019x\u8BBE\u7F6E\u7684\u5927\u4E00\u4E9B\u5C31\u80FD\u8FBE\u5230\u6B64\u6548\u679C\uFF0C\u6CE8\u610F\u4E0D\u80FD\u8BBE\u7F6Ey\u7684\u503C\uFF0C\u5426\u5219\u5706\u5FC3\u4F1A\u6539\u53D8\uFF0C\u7531\u4E0A\u9762\u95EE\u9898\u53EF\u77E5y\u8F74\u7684\u4F4D\u79FB\u5E76\u4E0D\u4F1A\u5782\u76F4\u4F4D\u79FB~</p></blockquote><ol start="5"><li>\u7403\u4F53\u7684\u4E00\u4E2A\u5FEB\u4E00\u4E2A\u6162\u600E\u4E48\u641E</li></ol><blockquote><p>(Math.PI * 2) / 60 \u8868\u793A60\u79D2\u8F6C\u4E00\u5708 (Math.PI * 2) / 6 \u8868\u793A6\u79D2\u8F6C\u4E00\u5708 \u6CE8\u610F: \u9700\u8981\u52A0\u4E0A\u6BEB\u79D2\u7684\u4F4D\u79FB\uFF0C\u5426\u5219\u4F1A\u51FA\u73B0\u95EA\u73B0</p></blockquote><ol start="6"><li>\u65CB\u8F6C\u52A0\u5E73\u79FB\u597D\u50CF\u4E0D\u662F\u9884\u60F3\u4E2D\u7684\u90A3\u6837(\u5148\u65CB\u8F6C\u518D\u5E73\u79FB\u662F\u6309\u7167\u666E\u901A\u753B\u56FE\u90A3\u6837\uFF0C\u8BD5\u7740\u53BB\u7406\u89E3)</li></ol><blockquote><p>\u5C31\u50CF\u4E0A\u9762\u8BF4\u7684\uFF0C\u8D77\u70B9\u4F4D\u4E8E\u77E9\u5F62\u7684\u5DE6\u4E0A\u89D2\uFF0C\u7136\u540E\u57FA\u4E8E\u6B64\u8FDB\u884C\u4F4D\u79FB</p></blockquote><h2 id="\u533A\u57DF\u5185\u7684\u7403\u7684\u8FD0\u52A8-\u53D8\u8272-\u53CD\u5F39-\u62D6\u5F71-\u91CD\u529B" tabindex="-1">\u533A\u57DF\u5185\u7684\u7403\u7684\u8FD0\u52A8(\u53D8\u8272+\u53CD\u5F39+\u62D6\u5F71+\u91CD\u529B) <a class="header-anchor" href="#\u533A\u57DF\u5185\u7684\u7403\u7684\u8FD0\u52A8-\u53D8\u8272-\u53CD\u5F39-\u62D6\u5F71-\u91CD\u529B" aria-hidden="true">#</a></h2>',13),C=l(`<ul><li>\u5982\u4F55\u5DE5\u7A0B\u5316\u7684\u5728\u9875\u9762\u7ED8\u5236\u4E00\u4E2A\u7403</li></ul><blockquote><p>\u7C7B\u4F3C\u4E8Edemo\u4E00\u6837\uFF0C\u521B\u5EFA\u4E00\u4E2A ball \u5BF9\u8C61\uFF0C\u5185\u90E8\u6709\u5750\u6807\u7684\u504F\u79FB\u91CF\u4EE5\u53CA\u5177\u4F53\u7684\u7ED8\u5236\u65B9\u6CD5\uFF0C\u5916\u90E8\u9700\u8981\u66F4\u6539\u7ED8\u5236\u8DEF\u5F84\u53EA\u9700\u66F4\u6539\u5BF9\u8C61\u67D0\u4E2A\u5C5E\u6027\u7136\u540E\u6267\u884C\u5176\u7ED8\u5236\u65B9\u6CD5\u5C31\u53EF\u4EE5\uFF0C\u96C6\u4E2D\u7BA1\u7406\u7684\u6548\u679C</p></blockquote><blockquote><p>\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF1A\u5728\u4E0D\u9700\u8981\u6B8B\u5F71\u6548\u679C\u65F6\uFF0C\u6211\u4EEC\u8FD8\u662F\u7528 ctx.clearRect(0, 0, canvas.width, canvas.height) \u6765\u6E05\u9664\u4E0A\u4E00\u5E27\u7ED8\u5236\u7684\u7403</p></blockquote><ul><li>\u600E\u4E48\u8BA9\u8FD9\u4E2A\u7403\u52A8\u8D77\u6765</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">ball</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">x </span><span style="color:#89DDFF;">+=</span><span style="color:#A6ACCD;"> ball</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vx</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">ball</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">y </span><span style="color:#89DDFF;">+=</span><span style="color:#A6ACCD;"> ball</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vy</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><blockquote><p>\u4E0E\u4E0A\u4E2Ademo\u4E00\u6837\uFF0C\u5229\u7528 window.requestAnimationFrame() \u6765\u8FBE\u5230\u52A8\u753B\u6548\u679C\uFF0C\u9700\u8981\u6CE8\u610F\u7684\u662F\u8981\u5728\u5185\u90E8\u5BF9 ball \u5BF9\u8C61\u4E2D\u7684x\uFF0Cy\u8FDB\u884C\u9012\u589E,\u800C\u8FD9\u4E2A\u9012\u589E\u7684\u901F\u5EA6\u53D6\u51B3\u4E8E vx\uFF0Cvy \u7684\u5927\u5C0F</p></blockquote><ul><li>\u600E\u4E48\u505A\u5230\u53CD\u5F39\u7684\u6548\u679C</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> (ball</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">y </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> ball</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vy </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> canvas</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">height </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;"> ball</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">y </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> ball</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vy </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">ball</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vy</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">ball</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vy</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> (ball</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">x </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> ball</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vx </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> canvas</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">width </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;"> ball</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">x </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> ball</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vx </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">ball</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vx</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">ball</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vx</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><blockquote><p>\u5C31\u4E0A\u9762\u9762\u7684\u5173\u952E\u4EE3\u7801\uFF0C\u5728\u5224\u65AD\u89E6\u8FB9\u540E\u5C31\u4F7F\u9012\u589E\u53D8\u91CF\u8BBE\u53CD\uFF0C\u56E0\u4E3A\u5B9E\u9645\u7684\u79FB\u52A8\u503C\u4F1A\u52A0\u4E0A\u8FD9\u4E2A\u8BBE\u53CD\u4E86\u7684\u9012\u589E\u53D8\u91CF(vx,vy)\uFF0C\u6240\u4EE5\u4E5F\u5DE7\u5999\u7684\u8FBE\u5230\u4E86\u89E6\u5E95\u540E\u53CD\u5411\u79FB\u52A8</p></blockquote><ul><li>\u600E\u4E48\u505A\u5230\u91CD\u529B(\u52A0\u901F\u5EA6)\u7684\u6548\u679C</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">ball</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vy </span><span style="color:#89DDFF;">*=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">.99</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// \u8FD9\u4E2A\u662F\u56FA\u5B9A\u4E0D\u53D8\u7684</span></span>
<span class="line"><span style="color:#A6ACCD;">ball</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vy </span><span style="color:#89DDFF;">+=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">.25</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// \u8FD9\u4E2A\u503C\u6765\u63A7\u5236\u91CD\u529B\u503C\uFF0C\u8D8A\u5927\u5219\u91CD\u529B\u8D8A\u5927</span></span>
<span class="line"></span></code></pre></div><ol><li>\u7ED9\u7403\u52A0\u4E0A\u91CD\u529B\u7684\u6548\u679C\uFF0C\u53EA\u9700\u8981\u66F4\u6539 y \u8F74\u4E0A\u7684\u53D8\u91CF\uFF0C\u6240\u4EE5\u53EA\u9700\u8981\u66F4\u6539 vy \u9012\u589E\u53D8\u91CF</li><li><code>vy *=.99</code> \u4F5C\u7528\u662F\u4E3A\u4E86\u4FDD\u8BC1\u56DE\u5F39\u65F6\u4F1A\u8D8A\u5F39\u8D8A\u5C0F\uFF0C\u5982\u679C\u5199\u6210 <code>vy *=.90</code> \u90FD\u4E0D\u884C,\u770B\u8D77\u6765\u91CD\u529B\u6548\u679C\u5C31\u4E0D\u662F\u5F88\u81EA\u7136</li><li><code>vy += .25</code> \u4F5C\u7528\u662F\u4E3A\u4E86\u80FD\u8FBE\u5230\u4E0D\u5300\u901F\u4E0B\u964D\u7684\u6548\u679C\uFF0C\u770B\u8D77\u6765\u50CF\u91CD\u529B\u6548\u679C\uFF0C\u8FD9\u4E2A\u503C\u7684\u5927\u5C0F\u4F1A\u76F4\u63A5\u5F71\u54CD\u4E0B\u964D\u901F\u5EA6\uFF0C\u4E5F\u5C31\u662F\u91CD\u529B\u7684\u5927\u5C0F</li><li>\u8FD9\u4E24\u53E5\u8BDD\u5728\u4E00\u8D77\u5F88\u5DE7\u5999\uFF0C\u56E0\u4E3A\u6709 <code>*=.99</code> \u7684\u5B58\u5728\u6240\u4EE5\u6700\u540E\u7684\u9012\u589E\u503C\u80AF\u5B9A\u4F1A\u8D8A\u6765\u8D8A\u5C0F\uFF0C\u800C\u56E0\u4E3A\u6709 <code>+=.25</code> \u4E5F\u9020\u6210\u4E86\u4E00\u5F00\u59CB\u7684\u4E0B\u964D\u52A0\u901F\u5EA6\u7684\u6548\u679C\uFF0C\u518D\u52A0\u4E0A\u53CD\u5F39\u7684\u6548\u679C\uFF0C\u770B\u8D77\u6765\u975E\u5E38\u62DF\u771F</li></ol><ul><li>\u600E\u4E48\u505A\u6B8B\u5F71</li></ul><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">// ctx.clearRect(0, 0, canvas.width, canvas.height);</span></span>
<span class="line"><span style="color:#A6ACCD;">ctx</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fillStyle </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rgba(255, 255, 255, 0.3)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">ctx</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fillRect</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> canvas</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">width</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> canvas</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">height)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><blockquote><p>\u820D\u5F03 ctx.clearRect() \u7684\u65B9\u5F0F\u53BB\u6E05\u9664\u4E0A\u4E00\u5E27\u753B\u9762\uFF0C\u91C7\u7528 ctx.fillRect() + \u80CC\u666F0.3\u900F\u660E \u7684\u65B9\u5F0F\u53BB\u8FBE\u5230\u6B8B\u5F71\u7684\u6548\u679C</p></blockquote><p>\u6682\u65F6\u4E0D\u61C2\u4E3A\u4EC0\u4E48\u80FD\u8FBE\u5230\u6B64\u6548\u679C\uFF0C\u540E\u9762\u4F1A\u8DDF\u8FDB\u7814\u7A76\uFF0C\u53EA\u77E5\u9053 <code>ctx.fillStyle = &#39;rgba(255, 255, 255, 0.3)&#39;</code> \u4E2D\u7684 0.3 \u662F\u4E2A\u4E34\u754C\u70B9\uFF0C\u5982\u679C\u8BBE\u7F6E\u4E3A 0.2 \u90A3\u4E48\u62D6\u5F71\u4F1A\u66F4\u957F\uFF0C\u4F46\u662F\u4F1A\u6709\u526F\u4F5C\u7528(\u753B\u5E03\u7684\u80CC\u666F\u8272\u4F1A\u88AB\u5F71\u54CD\u5230)\uFF0C\u53CD\u4E4B\u8BBE\u7F6E 0.4 \u4E0D\u4F1A\u6709\u8FD9\u6837\u7684\u6548\u679C\uFF0C\u4F46\u662F\u62D6\u5F71\u4F1A\u66F4\u77ED</p><h2 id="\u7409\u7483\u706F" tabindex="-1">\u7409\u7483\u706F <a class="header-anchor" href="#\u7409\u7483\u706F" aria-hidden="true">#</a></h2>`,17),b=n("h2",{id:"\u989C\u8272\u52A8\u6001\u6E10\u53D8",tabindex:"-1"},[t("\u989C\u8272\u52A8\u6001\u6E10\u53D8 "),n("a",{class:"header-anchor",href:"#\u989C\u8272\u52A8\u6001\u6E10\u53D8","aria-hidden":"true"},"#")],-1);function F(g,A,u,v,m,f){const s=r("CanvasDemo");return c(),o("div",null,[i,y,a(s,{height:"220",code:`
const ctx = canvas.getContext('2d');
ctx.moveTo(100, 100);
ctx.lineTo(100, 200);
ctx.lineTo(200, 100);
ctx.closePath();
ctx.stroke();
ctx.beginPath();
ctx.fillStyle = 'red'
ctx.moveTo(200, 100);
ctx.lineTo(200, 200);
ctx.lineTo(100, 200);
ctx.fill();
`}),d,a(s,{width:"600",height:"500",code:`
const ctx = canvas.getContext('2d');
ctx.arc(250, 250, 200, 0, Math.PI*2);
ctx.strokeStyle = 'red';
ctx.stroke();
ctx.beginPath();
ctx.strokeStyle = 'blue';
ctx.arc(150, 200, 50, 0, Math.PI, true);
ctx.moveTo(400, 200);
ctx.arc(350, 200, 50, 0, Math.PI, true);
ctx.moveTo(300, 350);
ctx.arc(250, 350, 50, 0, Math.PI, false);
ctx.stroke();
`}),D,a(s,{width:"600",height:"500",code:`
const ctx = canvas.getContext('2d');
for (let x = 1; x < 25; x++) {
  for (let y = 1; y < 25; y++) {
    ctx.beginPath();
    ctx.strokeStyle = \`rgb(\${255-y*10}, \${255-x*10}, 255)\`;
    ctx.arc(25 * x, 25 * y, 12, 0, Math.PI * 2);
    ctx.stroke();
  }
}
`}),h,a(s,{width:"700",height:"700",code:`
const ctx = canvas.getContext('2d');
const sun = new Image();
const earth = new Image();
sun.src = 'https://img.lovepik.com/element/40097/4339.png_300.png';
earth.src = 'https://www.freepnglogos.com/uploads/moon-png/moon-png-annual-celestial-overview-simone-matthews-18.png';
function draw() {
  ctx.globalCompositeOperation = 'destination-over'
  ctx.clearRect(0, 0, 700, 700)
  ctx.save()
  // \u5730\u7403
  ctx.translate(350, 350)
  const time1 = new Date()
  const x1 = (Math.PI*2 / 6) * time1.getSeconds() + (Math.PI*2 / 6000) * time1.getMilliseconds()
  ctx.rotate(x1)
  ctx.translate(170, 0)
  ctx.drawImage(earth, 0, 0, 40, 40)
  ctx.restore()
  ctx.save()
  // \u884C\u661F
  ctx.translate(350, 350)
  const time = new Date()
  const x = (Math.PI*2 / 60) * time.getSeconds() + (Math.PI*2 / 60000) * time.getMilliseconds()
  ctx.rotate(x)
  ctx.translate(300, 0)
  ctx.arc(0, 0, 30, 0, Math.PI*2)
  ctx.fillStyle = 'blue'
  ctx.fill()
  // \u6708\u7403
  ctx.beginPath()
  const time2 = new Date()
  const x2 = (Math.PI*2 / 6) * time2.getSeconds() + (Math.PI*2 / 6000) * time2.getMilliseconds()
  ctx.rotate(x2)
  ctx.translate(50, 0)
  ctx.arc(0, 0, 10, 0, Math.PI*2)
  ctx.fillStyle = 'yellow'
  ctx.fill()
  ctx.restore()
  // \u5706\u73AF
  ctx.beginPath()
  ctx.arc(350, 350, 300, 0, Math.PI*2)
  ctx.strokeStyle = 'red'
  ctx.stroke()
  // \u592A\u9633
  ctx.beginPath()
  ctx.drawImage(sun, 0, 0, 700, 700);
  window.requestAnimationFrame(draw);
}
window.requestAnimationFrame(draw);
`}),x,a(s,{width:"700",height:"300",code:`
const ctx = canvas.getContext('2d');
const ball = {
  x: 0,
  y: 0,
  vx: 4,
  vy: 5,
  rgbaX: 0,
  rgbaY: 0,
  rgbaZ: 0,
  rgbaV: 1,
  draw: function () {
    ctx.beginPath()
    ctx.arc(this.x, this.y, 20, 0, Math.PI*2)
    ctx.fillStyle = \`rgba(\${this.rgbaX}, \${this.rgbaY}, \${this.rgbaZ}, \${1})\`
    const max = this.rgbaV === 1 ? 255 : 0;
    if (this.rgbaX === max && this.rgbaY === max && this.rgbaZ === max) {
      this.rgbaV = this.rgbaV === 1 ? -1 : 1
    } else if (this.rgbaY === max && this.rgbaZ === max) {
      this.rgbaX += this.rgbaV
    } else if (this.rgbaZ === max) {
      this.rgbaY += this.rgbaV
    } else {
      this.rgbaZ += this.rgbaV
    }
    ctx.fill()
    ctx.beginPath()
  }
}
function draw() {
  ctx.fillStyle = 'rgba(255, 255, 255, 0.3)'
  ctx.fillRect(0, 0, 700, 700)
  ball.x += ball.vx
  ball.y += ball.vy
  if (ball.x > 700 || ball.x < 0) {
    ball.vx = -ball.vx
  }
  if (ball.y > 300 || ball.y < 0) {
    ball.vy = -ball.vy
  }
  // ball.vy *= .99 // \u91CD\u529B
  // ball.vy += 0.25
  ball.draw()
  window.requestAnimationFrame(draw);
}
window.requestAnimationFrame(draw);
`}),C,a(s,{width:"700",height:"500",code:`
const ctx = canvas.getContext('2d');
let activeX = 1
let activeY = 1
let vx = 1
let vy = 1
let down = true
let color = 0
const num = 15
function changeColor() {
  color = color > 255 ? 0 : color + num
}
for (let x = 1; x <= num; x++) {
  for (let y = 1; y <= num; y++) {
    ctx.beginPath()
    ctx.strokeStyle = \`rgb(\${255-y*10},\${255-x*10},255)\`
    ctx.arc(30*x, 30*y, 15, 0, Math.PI*2)
    ctx.stroke()
  }
}
function draw() {
  for (let y = 1; y <= num; y++) {
    for (let x = 1; x <= num; x++) {
      if (x === activeX && y === activeY) {
        ctx.beginPath()
        ctx.arc(30*x, 30*y, 15, 0, Math.PI*2)
        ctx.fillStyle = down
          ? \`rgb(\${255-y*Math.floor(color/num)}, \${255-x*Math.floor(color/num)}, 255)\`
          : \`rgb(\${255-y*Math.floor(color/num)}, \${255-x*Math.floor(color/num)}, 255)\`
        ctx.fill()
      }
    }
  }
  if (activeX === num+1) {
    activeY += vy
    vx = -1
  } else if (activeX === 0) {
    activeY += vy
    vx = 1
  }
  if (activeY === num+1) {
    changeColor()
    down = false
    vy = -1
  } else if (activeY === 0) {
    changeColor()
    down = true
    vy = 1
  }
  activeX += vx
  ctx.beginPath()
  window.requestAnimationFrame(draw);
}
window.requestAnimationFrame(draw);
`}),b,a(s,{width:"700",height:"500",code:`
const ctx = canvas.getContext('2d');
const colorObj = {
  rgbx: 255,
  rgby: 0,
  rgbz: 0,
  step: 1,
  lucid: 1,
  changeRGB() {
    // \u989C\u8272\u5468\u671F\u53D8\u5316\u89C4\u5219\u4E3A:
    // 1: 255,0,0
    // 2: 255,255,0
    // 3: 0,255,0
    // 4: 0,255,255
    // 5: 0,0,255
    // 6: 255,0,255
    // 7: 255,0,0
    switch (this.step) {
      case 1:
        this.rgby++
        if (this.rgby === 255) this.step = 2
        break;
      case 2:
        this.rgbx--
        if (this.rgbx === 0) this.step = 3
        break;
      case 3:
        this.rgbz++
        if (this.rgbz === 255) this.step = 4
        break;
      case 4:
        this.rgby--
        if (this.rgby === 0) this.step = 5
        break;
        case 5:
          this.rgbx++
          if (this.rgbx === 255) this.step = 6
        break;
      case 6:
        this.rgbz--
        if (this.rgbz === 0) this.step = 1
        break;
    }
  },
  draw() {
    ctx.clearRect(0, 0, 500, 500)
    ctx.globalCompositeOperation = 'destination-over';
    const gradient1 = ctx.createLinearGradient(0, 0, 500, 0)
    gradient1.addColorStop(0, '#fff');
    gradient1.addColorStop(1, 'rgba(0,0,0,0)');
    ctx.fillStyle = gradient1;
    ctx.fillRect(0, 0, 500, 500);
    ctx.beginPath();
    const gradient2 = ctx.createLinearGradient(0, 0, 0, 500)
    gradient2.addColorStop(0, \`rgb(\${this.rgbx}, \${this.rgby}, \${this.rgbz})\`);
    gradient2.addColorStop(1, '#000000');
    ctx.fillStyle = gradient2;
    ctx.fillRect(0, 0, 500, 500);
  }
}
function draw() {
  colorObj.changeRGB()
  colorObj.draw()
  window.requestAnimationFrame(draw);
}
window.requestAnimationFrame(draw);
`})])}const k=e(p,[["render",F]]);export{_ as __pageData,k as default};
